# README for the Color Sorter Toolkit

This toolkit is designed to assist our classmates with the color sorter project, providing essential tools and sketches for sensor calibration and servo testing. The goal is to simplify the process of integrating and testing hardware components, making it easier to achieve accurate and reliable sorting of colored objects.


## Getting Started
1. **Clone the Repository:** Start by cloning (or downloading) this repository to your local machine.
2. **Install Dependencies:** Ensure you have the Arduino IDE and necessary libraries installed.
3. **Open Sketch:** Open the `.ino` file you wish to work with in the Arduino IDE.
4. **Configure Hardware:** Connect your Arduino board and any necessary components as described in the setup sections above.
5. **Upload Sketch:** Compile and upload the sketch to your Arduino board.
6. **Observe Results:** Monitor the Serial Monitor (for `sensorCalibration.ino`) or the physical movement of the servo (for `servoTest.ino`) to verify operation.

## Project Structure
- `CMakeLists.txt`: Project configuration file for CMake.
- `README.md`: This document, providing an overview and setup instructions.
- `cmake/`: Contains CMake scripts for Arduino compatibility.
  - `ArduinoToolchain.cmake`: CMake toolchain file for Arduino.
  - `Platform/Arduino.cmake`: Platform-specific configurations.
- `cmake-build-debug/`: Debugging output directory (generated by the IDE).
- `sensorCalibration.ino`: Arduino sketch for calibrating the color sensor.
- `servoTest.ino`: Arduino sketch for testing servo movements.

## Sensor Calibration ([sensorCalibration.ino](sensorCalibration.ino))
This sketch is designed to calibrate a color sensor for accurate color detection. It involves setting up the sensor pins, collecting color samples, and calculating statistical data to determine the optimal settings for color differentiation.

### Setup
- **Pin Configuration:**
  - `S0` to `S3`: Control pins connected to digital pins 2 through 5.
  - `sensorOut`: Output pin connected to digital pin 6.
- **Operation:**
  - The sketch sets the frequency scaling to 20% for the sensor and begins collecting samples of the colors detected.
  - For each color, it calculates and logs the mean and standard deviation of the ratios between different color channels (G/R, B/R, B/G).

### Usage Tips
- **Adjusting Sensor Angle:** To enhance the diversity of detected colors, try adjusting the sensor's angle towards the color you aim to detect. This can help in covering a broader range of shades.
- **Accuracy:** The results provided by this sketch will have **2δ intervals with 5% outliers removed**, which represent the range of values within which the true value is expected to lie with a certain level of confidence. Theroetically, the true value is expected to lie within the 2δ interval over 95% confidence level. The 5% outliers are removed to improve the accuracy of the results.

## Servo Test ([servoTest.ino](servoTest.ino))
This sketch is useful for testing the movement capabilities of a servo motor, crucial for the physical sorting mechanism of the color sorter project.

### Setup
- **Pin Configuration:**
  - The servo signal pin is connected to digital pin 9.
- **Operation:**
  - The sketch periodically moves the servo to random angles from a predefined set, avoiding repetitive movements to the same angle.

### Usage Tips
- **Interval Adjustment:** The `interval` variable can be adjusted to test the servo's response time and movement smoothness under different conditions.
